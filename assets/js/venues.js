// Generated by CoffeeScript 1.6.1
(function() {
  var genres, q, words;

  q = new Yardbase.Query().with_tag("music_event");

  words = {};

  genres = ["Punk", "Classical", "Rock", "Hip-Hop", "Bluegrass"];

  q.execute(function(results) {
    var genre, result, word, word_array, _base, _i, _len;
    for (_i = 0, _len = results.length; _i < _len; _i++) {
      result = results[_i];
      genre = (_base = result.music_event).genre || (_base.genre = genres[Math.floor(Math.random() * 5)]);
      words[genre] || (words[genre] = 0);
      words[genre] += 1;
    }
    word_array = [];
    for (word in words) {
      word_array.push({
        text: word,
        weight: words[word]
      });
    }
    return $('#wordcloud').jQCloud(word_array);
  });

}).call(this);
